<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Coaches - Fitness Training</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDVDMUY3IiBoZWlnaHQ9IjY0cHgiIHdpZHRoPSI2NHB4IiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAzMjYuODUgMzI2Ljg1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iU1ZHUmVwb19iZ0NhcnJpZXIiIHN0cm9rZS13aWR0aD0iMCI+PC9nPjxnIGlkPSJTVkdSZXBvX3RyYWNlckNhcnJpZXIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9nPjxnIGlkPSJTVkdSZXBvX2ljb25DYXJyaWVyIj4gPHBhdGggZD0iTTI2NC42OTMsMzI2Ljg0NWgtMzguMDc5Yy00LjQxOCwwLTgtMy41ODItOC04di0zMC40NjRIMTA4LjIzMXYzMC40NjRjMCw0LjQxOC0zLjU4Miw4LTgsOEg2Mi4xNTJjLTQuNDE4LDAtOC0zLjU4Mi04LTh2LTYuOTM5SDI0LjA3NGMtNC40MTgsMC04LTMuNTgyLTgtOHYtNzkuODc1YzAtNC40MTgsMy41ODItOCw4LThoMzAuMDc3di02LjkzOGMwLTQuNDE4LDMuNTgyLTgsOC04aDM4LjA3OWM0LjQxOCwwLDgsMy41ODIsOCw4djMwLjQ2NGgxMTAuMzg0di0zMC40NjRjMC00LjQxOCwzLjU4Mi04LDgtOGgzOC4wNzljNC40MTgsMCw4LDMuNTgyLDgsOHY2LjkzOGgzMC4wNzdjNC40MTgsMCw4LDMuNTgyLDgsOHY3OS44NzVjMCw0LjQxOC0zLjU4Miw4LTgsOGgtMzAuMDc3djYuOTM5QzI3Mi42OTMsMzIzLjI2MywyNjkuMTEyLDMyNi44NDUsMjY0LjY5MywzMjYuODQ1eiBNMjM0LjYxNSwzMTAuODQ1aDIyLjA3OXYtOTMuNzUzaC0yMi4wNzlWMzEwLjg0NXogTTcwLjE1MiwzMTAuODQ1aDIyLjA3OXYtOTMuNzUzSDcwLjE1MlYzMTAuODQ1eiBNMjcyLjY5MywyOTUuOTA1aDIyLjA3N1YyMzIuMDNoLTIyLjA3N1YyOTUuOTA1eiBNMzIuMDc0LDI5NS45MDVoMjIuMDc3VjIzMi4wM0gzMi4wNzRWMjk1LjkwNXogTTEwOC4yMzEsMjcyLjM4MWgxMTAuMzg0di0xNi44MjVIMTA4LjIzMVYyNzIuMzgxeiBNMTQ1LjQ0MywyMjMuMzc2Yy0xLjMzMSwwLTIuNjgwLjMzMi0zLjkyMiwxLjAzMmMtMy44NDksMi4xNy01LjIwOSw3LjA1LTMuMDQsMTAuODk4YzE0LjI3MywyNS4zMTIsMzMuNTQzLDQ2LjcxMiw1Ni4yMTQsNjMuMTgxYy05Ljg5NCwxMy43MDMtMjEuMTk3LDI2LjE3My0zMy42ODEsMzcuMjI3Yy0zMS4wMTksMzMuNDAzLTczLjM1NSw1NS44OTYtMTIwLjM5NSw2MS41OTljMS4wNDIsNC4yMDksMi4zMDMsOC4zNjgsMy43ODQsMTIuNDY4YzEuNTAxLDQuMTU1LTAuNjUsOC43NDEtNC44MDYsMTAuMjQyYy00LjE1OCwxLjUwMi04Ljc0MS0wLjY1MS0xMC4yNDItNC44MDdjLTUuNTcxLTE1LjQyNC04LjM5Ni0zMS41OTktOC4zOTYtNDguMDc3QzIwLjk1OSw2My45MDgsODQuODY4LDAsMTYzLjQyMywwYzc4LjU1NCwwLDE0Mi40NjIsNjMuOTA4LDE0Mi40NjIsMTQyLjQ2M2MwLDE0LjE3OS0yLjEwNCwyOC4yMDEtNi4yNTUsNDEuNjhjLTEuMzAxLDQuMjIzLTUuNzgsNi41ODktMTAsNS4yOTFjLTQuMjIzLTEuMy02LjU5MS01Ljc3Ny01LjI5MS0xMGMzLjY4LTExLjk1MSw1LjU0Ni0yNC4zOSw1LjU0Ni0zNi45NzFjMC00Ljg2OS0wLjI3Ni05LjY3My0wLjgxNC0xNC40Yy0yNS44NzEsMi45OTctNTAuNDAzLDExLjUyMS03Mi4xNzIsMjQuNjYyYzQuNzEzLDcuNTA0LDkuMDE3LDE1LjI1MywxMi44NzMsMjMuMjAyYzEuOTI4LDMuOTc1LDAuMjY5LDguNzYxLTMuNzA2LDEwLjY4OWMtMy45NzUsMS45MjUtOC43NjIsMC4yNjktMTAuNjg5LTMuNzA3Yy0zLjU3My03LjM2Ni03LjUwMS0xNC40ODYtMTEuNzYxLTIxLjM0MWMtMjAuNjI5LDE1LjA5MS0zOC4xNzUsMzQuNjQyLTUxLjE5Niw1Ny43MzZDMTUwLjk0OCwyMjEuOTExLDE0OC4yMzYsMjIzLjM3NiwxNDUuNDQzLDIyMy4zNzZ6IE02Ni42MDEsNjEuMTkzYy0xOC40OTIsMjEuOTk0LTI5LjY0Miw1MC4zNTQtMjkuNjQyLDgxLjI3YzAsNC44MzQsMC4yNzQsOS42MzksMC44MTksMTQuMzk5YzQzLjI1Ny01LjAxOSw4Mi4yMzMtMjUuNDg0LDExMC44NzMtNTYuMDEyQzEyNC41NTUsODIuMzkxLDk2Ljc2LDY4LjgxNCw2Ni42MDEsNjEuMTkzeiBNMTcxLjMyOSw5OC45OThjMTMuNjI1LDEyLjA0OCwyNS45MzYsMjUuNjY0LDM2LjYxMSw0MC40NDJjMjMuNTk4LTE0LjM3OCw1MC4yMTgtMjMuNzU4LDc4LjMwNy0yNy4xNTVjLTkuOTg3LTQwLjYzNS0zOS42NjctNzMuNjE1LTc4LjI5OS04OC4xOTRDMjAxLjEyNSw1MS45MzcsMTg4LjQzMyw3Ny4zMzMsMTcxLjMyOSw5OC45OTh6IE03OS4zMjEsNDguMDk2YzI4LjY4Miw4LjQ1OCw1NS45MTQsMjIuMzU3LDc5LjY4MSw0MC43MDljMTUuNzcxLTIwLjA2NSwyNy40MzUtNDMuNjA2LDMzLjYyLTY5LjQwMkMxODMuMjQ4LDE3LjE3OSwxNzMuNDY4LDE2LDE2My40MjMsMTZDMTMxLjE2MiwxNiwxMDEuNjg2LDI4LjE0LDc5LjMyMSw0OC4wOTZ6Ij48L3BhdGg+IDwvZz48L3N2Zz4">
    <link rel="stylesheet" href="{{ asset('css/coaches.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <svg fill="#FFFFFF" height="32px" width="32px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-78.44 -78.44 483.73 483.73" xml:space="preserve" stroke="#FFFFFF">
                            <path d="M264.693,326.845h-38.079c-4.418,0-8-3.582-8-8v-30.464H108.231v30.464c0,4.418-3.582,8-8,8H62.152c-4.418,0-8-3.582-8-8 v-6.939H24.074c-4.418,0-8-3.582-8-8V224.03c0-4.418,3.582-8,8-8h30.077v-6.938c0-4.418,3.582-8,8-8h38.079c4.418,0,8,3.582,8,8 v30.464h110.384v-30.464c0-4.418,3.582-8,8-8h38.079c4.418,0,8,3.582,8,8v6.938h30.077c4.418,0,8,3.582,8,8v79.875 c0,4.418-3.582,8-8,8h-30.077v6.939C272.693,323.263,269.112,326.845,264.693,326.845z M234.615,310.845h22.079v-93.753h-22.079 V310.845z M70.152,310.845h22.079v-93.753H70.152V310.845z M272.693,295.905h22.077V232.03h-22.077V295.905z M32.074,295.905h22.077 V232.03H32.074V295.905z M108.231,272.381h110.384v-16.825H108.231V272.381z M145.443,223.376c-1.331,0-2.68-0.332-3.922-1.032 c-3.849-2.17-5.209-7.05-3.04-10.898c14.273-25.312,33.543-46.712,56.214-63.181c-9.894-13.703-21.197-26.173-33.681-37.227 c-31.019,33.403-73.355,55.896-120.395,61.599c1.042,4.209,2.303,8.368,3.784,12.468c1.501,4.155-0.65,8.741-4.806,10.242 c-4.158,1.502-8.741-0.651-10.242-4.807c-5.571-15.424-8.396-31.599-8.396-48.077C20.959,63.908,84.868,0,163.423,0 c78.554,0,142.462,63.908,142.462,142.463c0,14.179-2.104,28.201-6.255,41.68c-1.301,4.223-Ey1d0NlYWNoKCgkY2FyZCA9PiB7CiAgICAgICAgICAgICAgICAvLyBTaG93IG9yIGhpZGUgY2FyZCBiYXNlZCBvbiBmaWx0ZXIKICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsaXphdGlvbiA9PT0gJ2FsbCcgfHwgY2FyZFNwZWNpYWxpemF0aW9uID09PSBzcGVjaWFsaXphdGlvbikgewogICAgICAgICAgICAgICAgICAgIC8vIFNob3cgY2FyZCB3aXRoIGFuaW1hdGlvbgogICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgc2xpZ2h0IGRlbGF5IGZvciB0aGUgYW5pbWF0aW9uCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUub3BhY2l0eSA9ICcxJzsKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7CiAgICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIGNhcmQgd2l0aCBhbmltYXRpb24KICAgICAgICAgICAgICAgICAgICBjYXJkLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgICAgICAgICAgY2FyZC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgyMHB4KSc7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gSGlkZSBhZnRlciBhbmltYXRpb24gY29tcGxldGVzCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfSk7Cg=="></path>
                        </svg>
                    </div>
                    <h1 class="site-title">Fitness Training</h1>
                </div>
                
                <nav class="navigation">
                    <a href="{{ url('/') }}" class="nav-link">
                        <i class="fas fa-home"></i> Home
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <h2 class="page-title">Our Professional Coaches</h2>
                <p class="page-subtitle">Meet our training team, experts in various sports fields to help you achieve your goals</p>
                
                <!-- Statistics -->
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-number">{{ $coaches->count() }}</div>
                        <div class="stat-label">Total Coaches</div>
                    </div>
                    
                    @php
                        $avgExperience = $coaches->avg('years_of_experience');
                    @endphp
                    
                    <div class="stat-card">
                        <div class="stat-number">{{ number_format($avgExperience, 1) }}</div>
                        <div class="stat-label">Avg. Experience</div>
                    </div>
                    
                    @php
                        $uniqueSpecializations = $coaches->pluck('specialization')->unique()->count();
                    @endphp
                    
                    <div class="stat-card">
                        <div class="stat-number">{{ $uniqueSpecializations }}</div>
                        <div class="stat-label">Training Fields</div>
                    </div>
                </div>
            </div>

            <!-- Coaches Grid -->
            <div class="coaches-grid" id="coachesGrid">
                @forelse($coaches as $coach)
                    <div class="coach-card" data-specialization="{{ $coach->specialization ?? 'Not Specified' }}">
                        <!-- Coach Image & Basic Info -->
                        <div class="coach-image-section">
                            @if($coach->image && file_exists(public_path($coach->image)))
                                <img src="{{ asset($coach->image) }}" alt="{{ $coach->full_name }}" class="coach-image">
                            @else
                                <div class="coach-avatar">
                                    <span class="avatar-letter">{{ substr($coach->full_name, 0, 1) }}</span>
                                </div>
                            @endif
                            
                            <!-- Name & Position -->
                            <div class="coach-overlay">
                                <h3 class="coach-name">{{ $coach->full_name }}</h3>
                                <div class="position-badge">{{ $coach->position }}</div>
                            </div>
                        </div>
                        
                        <!-- Coach Details -->
                        <div class="coach-details">
                            <!-- Specialization -->
                            <div class="detail-section">
                                <div class="detail-title">
                                    <i class="fas fa-dumbbell detail-icon"></i>
                                    <h4>Specialization</h4>
                                </div>
                                <span class="specialization-badge">{{ $coach->specialization ?? 'Not Specified' }}</span>
                            </div>
                            
                            <!-- Experience -->
                            <div class="detail-section">
                                <div class="detail-title">
                                    <i class="fas fa-award detail-icon"></i>
                                    <h4>Years of Experience</h4>
                                </div>
                                <div class="experience-container">
                                    <span class="experience-badge">{{ $coach->years_of_experience }} years</span>
                                    
                                    <!-- Experience Bar -->
                                    <div class="experience-bar-container">
                                        @php
                                            $experiencePercentage = min($coach->years_of_experience * 10, 100);
                                        @endphp
                                        <div class="experience-bar" style="width: {{ $experiencePercentage }}%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Working Hours -->
                            <div class="detail-section">
                                <div class="detail-title">
                                    <i class="far fa-clock detail-icon"></i>
                                    <h4>Working Hours</h4>
                                </div>
                                <div class="working-hours">
                                    <span>{{ date('h:i A', strtotime($coach->working_hours_start)) }}</span>
                                    <span class="hours-separator">-</span>
                                    <span>{{ date('h:i A', strtotime($coach->working_hours_end)) }}</span>
                                </div>
                            </div>
                            
                            <!-- Contact Info -->
                            <div class="detail-section">
                                <div class="detail-title">
                                    <i class="fas fa-address-card detail-icon"></i>
                                    <h4>Contact Info</h4>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-item">
                                        <i class="fas fa-envelope contact-icon"></i>
                                        <span class="contact-text">{{ $coach->email }}</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-phone contact-icon"></i>
                                        <span class="contact-text">{{ $coach->phone_number }}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="action-section">
                                <a href="{{ route('employees.show', $coach->id) }}" class="view-profile-btn">
                                    <i class="fas fa-eye"></i>
                                    <span>View Profile</span>
                                </a>
                                
                                @if($coach->manager)
                                <div class="manager-info">
                                    <p class="manager-label">Reporting Manager</p>
                                    <p class="manager-name">{{ $coach->manager->full_name }}</p>
                                </div>
                                @endif
                            </div>
                        </div>
                    </div>
                @empty
                    <!-- No Coaches Message -->
                    <div class="no-coaches-message">
                        <div class="no-coaches-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>No Coaches Available</h3>
                        <p>No coaches have been added to the system yet.</p>
                        <a href="{{ route('employees.create') }}" class="add-coach-btn">
                            <i class="fas fa-plus"></i>
                            Add New Coach
                        </a>
                    </div>
                @endforelse
            </div>
            
            <!-- Filter Section -->
            @if($coaches->count() > 0)
            <div class="filter-section">
                <h3 class="filter-title">Filter Coaches by Specialization</h3>
                
                <div class="filter-buttons" id="filterButtons">
                    @php
                        $allSpecializations = $coaches->pluck('specialization')->unique()->filter()->values();
                    @endphp
                    
                    @foreach($allSpecializations as $specialization)
                        <button class="filter-btn" data-specialization="{{ $specialization }}">
                            {{ $specialization }}
                        </button>
                    @endforeach
                    
                    <button class="filter-btn active" data-specialization="all">
                        Show All
                    </button>
                </div>
            </div>
            @endif
        </div>
    </main>

    <!-- JavaScript -->
    <script src="{{ asset('js/coaches.js') }}"></script>
</body>
</html>